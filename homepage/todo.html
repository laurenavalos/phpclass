<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assignment 6 To-Do List</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div id = "wrapper">
        <h1>To-Do List</h1>

        <!-- To-Do List -->
        <ul class="todo-list">
            <!-- List items will be generated here -->
        </ul>

        <!-- Input and Add Button -->
        <input type="text" id="new-todo" placeholder="Add a new item">
        <button type="button" id="add-btn">Add To Do</button>

    <script>
        // References
        const todoList = document.querySelector('.todo-list');
        const input = document.getElementById('new-todo');
        const addBtn = document.getElementById('add-btn');

        // Get todos from localStorage or initialize empty array
        let todos = JSON.parse(localStorage.getItem('todo-list')) || [];

        // Arrow function to render todos
        const renderTodos = () => {
            todoList.innerHTML = ''; // Clear current list

            todos.forEach(todo => {
                const li = document.createElement('li');
                li.textContent = todo.text;
                li.classList.add('todo');
                todoList.append(li);
            });
        };

        // Initial render on page load
        renderTodos();

        // Add new todo
        addBtn.addEventListener('click', () => {
            const text = input.value.trim();
            if (text !== '') {
                todos.push({ text: text, completed: false });
                localStorage.setItem('todo-list', JSON.stringify(todos));
                renderTodos();
                input.value = ''; // Clear input
            }
        });

        // Allow Enter key to add todo
        input.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') addBtn.click();
        });
    </script>
    </div>
</body>
</html>